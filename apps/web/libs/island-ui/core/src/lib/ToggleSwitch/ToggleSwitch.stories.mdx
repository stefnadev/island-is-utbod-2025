import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'

import {
  ToggleSwitchCheckbox,
  ToggleSwitchButton,
  ToggleSwitchLink,
} from './index'
import { useState } from 'react'

<Meta title="Form/ToggleSwitch" />

# ToggleSwitch

ToggleSwitches come in three flavours: Checkbox, Button and Link (see below).
All three variant share some basic props, but each has a few props unique to it.

## Common props

<Canvas>
  <Story name="Default">
    {() => {
      const [checked, setChecked] = useState(false)
      return (
        <>
          <ToggleSwitchCheckbox
            label="Basic Toggle Switch"
            checked={checked}
            onChange={setChecked}
          />
          <ToggleSwitchCheckbox
            label="Large version"
            large
            checked={checked}
            onChange={setChecked}
          />
          <ToggleSwitchCheckbox
            label="Full-width version"
            wide
            checked={checked}
            onChange={setChecked}
          />
          <ToggleSwitchCheckbox
            label="Disabled version"
            disabled
            checked={checked}
            onChange={setChecked}
          />
          <p>In rare instances you may need to hide the label:</p>
          <ToggleSwitchCheckbox
            label="The label is still required!"
            hiddenLabel={true}
            checked={checked}
            onChange={setChecked}
          />
        </>
      )
    }}
  </Story>
</Canvas>

# ToggleSwitchCheckbox

The basic checkbox variant accepts optional `name` and `value` props
for making old-school form-submits possible.

<Canvas>
  <Story name="ToggleSwitchCheckbox">
    <ToggleSwitchCheckbox
      label="Named Toggle Switch Checkbox"
      checked={false}
      onChange={(newChecked) => alert('Checked is now: ' + newChecked)}
      name="fieldName"
      value="fieldValue"
    />
  </Story>
</Canvas>

## Props

<ArgsTable of={ToggleSwitchCheckbox} />

# ToggleSwitchButton

The button variant toggles either `aria-pressed` or `aria-expaned`
if `expander` props is set. It accepts an optional `aria-controls` value.

<Canvas>
  <Story name="ToggleSwitchButton">
    <ToggleSwitchButton
      label="Basic aria-pressed Toggle Switch"
      checked={false}
      onChange={(newChecked) => alert('Checked is now: ' + newChecked)}
      aria-controls="remote-content-area"
    />
    <ToggleSwitchButton
      label="Basic aria-expanded Switch"
      expander={true}
      checked={false}
      onChange={(newChecked) => alert('Checked is now: ' + newChecked)}
      aria-controls="remote-content-area"
    />
  </Story>
</Canvas>

## Props

<ArgsTable of={ToggleSwitchButton} />

# ToggleSwitchLink

The hyperlink variant requires `href` and `linkText` props. Additionally,
its `onChange` handler provides a `preventDefault` callback to optionally
cancel the browser's default click behavior.

<Canvas>
  <Story name="ToggleSwitchLink">
    <ToggleSwitchLink
      label="Simple Toggle Switch link"
      linkText={'Switch the ToggleSwitch off'}
      href="/some/resource/?off"
      checked={true}
      onChange={(newChecked, preventDefault) => {
        alert('Sorry, not today!')
        preventDefault()
      }}
    />
    <ToggleSwitchLink
      label="Simple Toggle Switch link"
      linkText={'Switch the ToggleSwitch back on'}
      href="/some/resource/?on"
      checked={false}
      onChange={(newChecked, preventDefault) => {
        alert('Sorry, not today!')
        preventDefault()
      }}
    />
  </Story>
</Canvas>

## Props

<ArgsTable of={ToggleSwitchLink} />
